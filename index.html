<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гамельн</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e3a8a">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">

    <script>
        // Eingebettete Workshop-Daten (vollständig)
        const embeddedTimetableData =
        {
  "eventInfo": {
    "eventName": "Фестиваль W",
    "startDate": "2025-05-28",
    "endDate": "2025-06-01",
    "mainLanguage": "ru"
  },
  "locations": [
    {
      "locationId": "loc1",
      "name_ru": "Главная палатка (1)",
      "name_de": "Hauptzelt (1)"
    },
    {
      "locationId": "loc2",
      "name_ru": "Павильон рядом с главной палаткой (1a)",
      "name_de": "Pavillon neben Hauptzelt (1a)"
    },
    {
      "locationId": "loc3",
      "name_ru": "Палатка Рубикус (3)",
      "name_de": "Rubicus Zelt (3)"
    },
    {
      "locationId": "loc4",
      "name_ru": "Просветительская палатка (2)",
      "name_de": "Bildungszelt (2)"
    },
    {
      "locationId": "loc5",
      "name_ru": "Центральная поляна (7)",
      "name_de": "Zentrale Lichtung (7)"
    },
    {
      "locationId": "loc6",
      "name_ru": "У костра",
      "name_de": "Am Lagerfeuer"
    },
    {
      "locationId": "loc7",
      "name_ru": "Детская площадка (4)",
      "name_de": "Kinderspielplatz (4)"
    },
    {
      "locationId": "loc8",
      "name_ru": "Игровая палатка (5)",
      "name_de": "Spielezelt (5)"
    },
    {
      "locationId": "loc9",
      "name_ru": "Танцплощадка (6)",
      "name_de": "Tanzfläche (6)"
    }
  ],
  "schedule": {
    "2025-05-28": {
      "dayLabel_de": "Mittwoch",
      "dayLabel_ru": "Среда",
      "fullDayDescription_ru": "Среда 28.05.2025, день заезда",
      "events": [
        {
          "eventId": "W25124",
          "title_ru": "Коллажи из бумаги (W25124)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "**Коллажи из бумаги — для всех, кто любит творить руками**\n\nБудем создавать коллажи — из цветной бумаги, собственноручных выкрасок, текстур и мелких деталей. Можно работать по фотографии, рисунку или просто по воображению: вырезать формы, комбинировать цвета, собирать портреты, пейзажи или абстракции.\n\nЭто мастерская не только для детей, но и для взрослых — для всех, кто хочет отвлечься, поиграть с образами и почувствовать радость ручного творчества.\n\nПриходите без записи — всё нужное будет на месте.\nЕсли хочется — приносите свои материалы, ножницы или вдохновляющие картинки!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25005",
          "title_ru": "Регистрация на поляне (W25005)",
          "locationId": "loc2",
          "eventType": "registration",
          "startTime": "16:00",
          "endTime": "18:00",
          "description_ru": "Велкам-сервис для приезжающих в Гамельн - бейджики, талончики, подпись под правилами поведения и т.д.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25016",
          "title_ru": "Гороховый конструктор (W25016)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "Из гороха и зубочисток мы построим замки, геометрические фигуры и всё, что придет в голову участникам. Мастерская проводится в среду во второй половине дня и в четверг утром. Пока родители ставят палатку и налаживают быт, дети заняты горохом.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_ужин_2025-05-28_18:00_4",
          "title_ru": "Ужин",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "18:00",
          "endTime": "19:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25101",
          "title_ru": "Древний Счёт (W25101)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "19:00",
          "endTime": "20:00",
          "description_ru": "Демонстрация древних методов счёта (палочки, монеты, счёты) и вычисления (деление путём вычетания, корни путём вычетания, и т.д)",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25005_1900",
          "title_ru": "Регистрация на поляне (W25005)",
          "locationId": "loc2",
          "eventType": "registration",
          "startTime": "19:00",
          "endTime": "20:00",
          "description_ru": "Велкам-сервис для приезжающих в Гамельн - бейджики, талончики, подпись под правилами поведения и т.д.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25128",
          "title_ru": "Физические опыты со звуком для детей 6-10 лет. (W25128)",
          "locationId": "loc4",
          "eventType": "science_activity",
          "startTime": "19:00",
          "endTime": "20:00",
          "description_ru": "Приходите пошуметь и поиграть со звуком! Измерим скорость звука в воздухе с помощью рулетки! Поймаем резонанс и поговорим о волнах! Будет громко! Особенно жду детей от 6 до 10 лет.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "6-10 лет"
        },
        {
          "eventId": "W25109",
          "title_ru": "Парфюмер (W25109)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "19:00",
          "endTime": "20:00",
          "description_ru": "Будем создавать неповторимые индивидуальные ароматы из натуральных экстрактов и масел по рецептам и не только. Расскажу про влияние ароматов на разные сферы жизни и как с их помощью можно научиться раскрывать тайны воздействия природных ингредиентов на эмоции и ощущения.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25111",
          "title_ru": "\"Махнёмся не глядя!\" (W25111)",
          "locationId": "loc5",
          "eventType": "workshop",
          "startTime": "19:00",
          "endTime": "20:00",
          "description_ru": "Дети любого возраста, а также все желающие приносят с собой маленькие несъедобные \"сокровища\", которые могут поместиться в детской ладошке, и обмениваются ими вслепую с другими участниками. Это веселая возможность порадовать своим сюрпризом в ладошке другого и порадоваться новым \"сокровищам\" самому.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25066",
          "title_ru": "Чудеса из бумаги (W25066)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "20:00",
          "endTime": "21:00",
          "description_ru": "Бумажная мастерская: для детей от 4 до 10 лет: мастерим цветочки-сердечки из бумаги. Придумываем и записываем пожелания на них.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25056",
          "title_ru": "Игры на знакомство (W25056)",
          "locationId": "loc5",
          "eventType": "game",
          "startTime": "20:00",
          "endTime": "21:00",
          "description_ru": "Знакомство с новыми участниками, веселые игры на запоминание имен и лиц.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25019",
          "title_ru": "Песни у костра для взрослых и детей (W25019)",
          "locationId": "loc6",
          "eventType": "activity",
          "startTime": "21:00",
          "endTime": "22:00",
          "description_ru": "По вечерам будем петь песни у главного костра, начиная с детского репертуара, заканчивая взрослыми песнями.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        }
      ]
    },
    "2025-05-29": {
      "dayLabel_de": "Donnerstag",
      "dayLabel_ru": "Четверг",
      "fullDayDescription_ru": "Четверг 29.05.2025, официальное открытие",
      "events": [
        {
          "eventId": "gen_завтрак_2025-05-29_09:00_13",
          "title_ru": "Завтрак",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "09:00",
          "endTime": "10:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25057",
          "title_ru": "Волшебные цветы из шёлка (W25057)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Мы будем добывать огонь при помощи огнива (кресала, кремня и трута), запускать паровую машинку с двигателeм Стирлинга и если позволит солнце плавить олово при помощи линзы Френеля. Если у вас есть Feuerstab, Feuerstahl или Magnesium Feuerstarter, приносите — попробуем зажечь костёр при помощи ваших приспособлений. Если нет — не беда, разведём из моих. Разведение костра без спичек – это не только увлекательное приключение, но и важный навык выживания, который может пригодиться в различных ситуациях, от походов в горы до выезда на природу или в аварийной ситуации. Поверьте, это не сложно!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25025",
          "title_ru": "Типографика (W25025)",
          "locationId": "loc2",
          "eventType": "workshop",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Мастерим из деревянных досточек и реек поделки при помощи молотка и клея и украшаем их разными фигурками, наклейками и прочим деко.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25009",
          "title_ru": "Наблюдение за Солнцем (W25009)",
          "locationId": "loc4",
          "eventType": "observation_activity",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Дежурные должны развести или поддерживать костёр, следить за безопасностью вокруг костра. На время приёма пищи, а так же массовых мероприятий (концерты и спекталь), костер нужно просто перекрывать и дежурить не нужно. В воскресенье с утра нужно потушить и перекрыть костёр, а так же проследить, чтобы костер не зажгли снова.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25110",
          "title_ru": "Музыкальные нейросети (W25110)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Почитаем стихи, а то и попишем",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25097",
          "title_ru": "Подвижные игры для детей 3-5 лет (W25097)",
          "locationId": "loc7",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Паяем что-то, отпаиваем детальки из старых плат.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "3-5 лет"
        },
        {
          "eventId": "W25104",
          "title_ru": "Настольные игры (W25104)",
          "locationId": "loc8",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Акройога – упражнения в парах или минигруппах в которых одни (база) поддерживают других (летунов) в различных позах и переходах. Акройога развивает баланс, силу, гибкость и доверие между партнерами. Подходит для взрослых и подростков. PS: в нашем случае никакой связи с йогой нет",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25018",
          "title_ru": "Лоскутные сумки (W25018)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "На деревянные спилы наклеиваем аппликации из различных материалов, создавая оригинальные и неповторимые декоративные поделки. Полёт фантазии не ограничен.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25064",
          "title_ru": "Тайны нашего тела (W25064)",
          "locationId": "loc4",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25106",
          "title_ru": "Пластилинография (W25106)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "Будем плести стильные и практичные браслеты из прочного нейлонового шнура – паракорда (paracord). Его используют туристы и выживальщики, потому что его можно быстро расплести и использовать в экстремальных ситуациях, например, для создания укрытия, ремонта снаряжения итд.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25113",
          "title_ru": "Книжная лавка (W25113)",
          "locationId": "loc5",
          "eventType": "shop",
          "startTime": "11:00",
          "endTime": "13:00",
          "description_ru": "Мы показываем простые игры с верёвочками, дарим верёвочку, чтобы дети и взрослые могли попрактиковаться сами и научить других. Просто так, для радости",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25068",
          "title_ru": "Интуитивное рисование (W25068)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "12:00",
          "endTime": "13:00",
          "description_ru": "Накануне нашего слета, 25 мая, в мире отмечается День Африки, и я предлагаю отпраздновать его вместе! Мы с вами узнаем, что означают африканские символы \"адинкра\" и сделаем оттиски самых понравившихся из них на бумаге! Мы будем использовать простую технику создания заготовок для оттисков карандашом на мягком материале, поэтому матерская безопасна и доступна даже младшим детям! Оттиски вы сможете повесить дома в рамку или сделать из них уникальные поздравительные открытки.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25098",
          "title_ru": "Верёвочный курс (W25098)",
          "locationId": "loc7",
          "eventType": "workshop",
          "startTime": "12:00",
          "endTime": "13:00",
          "description_ru": "Подвижная игра, похожая на догонялки для детей от 6 до 13 лет. Мы проведем ее на футбольном поле. Если погода позволит, будем бросаться друг в друга шариками с водой. Если нет - предложим другой вариант.\nНеобходимо 2-3 помощника, которые возьмут на себя роль арбитров.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_обед_2025-05-29_13:00-15:00_28",
          "title_ru": "Обед",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "13:00",
          "endTime": "15:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25023",
          "title_ru": "Ярмарка (W25023)",
          "locationId": "loc5",
          "eventType": "fair",
          "startTime": "13:00",
          "endTime": "17:00",
          "description_ru": "В рамках мастерской будет представлена краткая информация об истории расшифровки генетического кода и о том, как он, собственно, работает. Участники смогут ознакомиться с материалами в распечатанном виде, а также, по желанию, послушать объяснение ведущего.\n\nЗатем каждому будет предложено расшифровать генетические нуклеотидные последовательности, в которых закодированы «человеческие» слова, названия стран, рек, городов, имена «великих» и их изречения, шедевры и прочее.\n\nСледующий этап – сборка найденных слов в логически связанные группы. Можно участвовать как индивидуально, так и в командах. Задания будут разной сложности в зависимости от возраста участников. По итогам конкурса будут объявлены победители.\nПриглашаем всех, кто хочет попробовать себя в роли генетического дешифровщика и по-новому взглянуть на язык жизни!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25108",
          "title_ru": "Нейрографика (W25108)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25027",
          "title_ru": "Мастерская голоса (W25027)",
          "locationId": "loc2",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Утренняя зарядка с гирями для всех, кто еще с ними не знаком, а также для тех, кто слышал, но еще не начал тренировки дома.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25017",
          "title_ru": "Программирование роботов (W25017)",
          "locationId": "loc4",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Будем изготавливать украшения из проволоки и бусин. Для детей планирую провести повторяющуюся мастерскую с алюминиевой проволокой (2 раза по часу), для взрослых одну или две, но с медной проволокой, не менее 2,5 часов.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25015",
          "title_ru": "Бумажная архитектура (W25015)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "В этой мастерской у каждого из наших участников и участниц будет возможность ДОДЕЛАТЬ те поделки, которые он/она создавали на прошлых фестивалях (или начатых на текущем). У постоянных участников хамельнского движения наверняка есть уже коллекция недошитого, недовязанного, недоплетенного, недорисованного, наконец! Вы привозите из дому такие работы, на мастерской мы сообща вспоминаем, «как это было» и создаем очередной шедевр!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25046",
          "title_ru": "Рисование для детей 3-5 лет (W25046)",
          "locationId": "loc7",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "В нашей мастерской у участников будет возможность отлить из олова разнообразные фигурки: солдатиков, новогодние игрушки, всадников и лошадей и тд из готовых форм.\nПосле отлива фигурки можно будет отшлифовать и грунтовать. А на следующий день будет раскрашивание для желающих.\n\nНам нужно два дня.\n\nВ работе с горячим оловом нужно быть очень осторожным, поэтому дети до 10 лет допускаются с родителями :)\nНужны взрослые, умеющие работать с металлом.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "3-5 лет"
        },
        {
          "eventId": "W25037",
          "title_ru": "Взрослые настольные игры (W25037)",
          "locationId": "loc8",
          "eventType": "game",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Основные обязанности:\n1. Проверка талонов:\n• Убедиться, что дата на талоне соответствует текущему дню.\n• Проверять, соответствует ли талон конкретному приему пищи (завтрак, обед, ужин).\n• Убедиться, что талон принадлежит взрослому или ребенку (в зависимости от отметки).\n• Отдельно проверять специальные талоны для вегетарианцев, чтобы гарантировать правильное питание.\n2. Контроль порядка:\n• Следить за тем, чтобы питание получали только обладатели действительных талонов.\n• Указывать людям, если у них неправильный талон и объяснять, что делать в таком случае.\n3. Взаимодействие с командой:\n• В случае вопросов или спорных ситуаций обращаться к ответственным за выдачу еды.\n• Помогать координировать поток людей, чтобы избежать задержек и очередей.\n\nГрафик дежурств:\n• Завтрак: 2 часа (дежурные сменяются каждые 30 минут или каждый час).\n• Обед: 2 часа (дежурные сменяются каждые 30 минут или каждый час).\n• Ужин: 1 час (дежурные сменяются каждые 30 минут или каждый час).\n\nКаждый желающий может записаться на удобное время дежурства, выбрав дату и смену.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25073",
          "title_ru": "Психологическая игра \"Денежный поток\" (W25073)",
          "locationId": "loc2",
          "eventType": "game",
          "startTime": "16:00",
          "endTime": "17:00",
          "description_ru": "Представьте себе изящное деревце с крошечными сияющими листочками, сплетённое вручную из тонкой проволоки и бисера. Эти миниатюрные «Деревья счастья» выглядят волшебно — их ветви извиваются, словно застывшие в танце, а мерцающие бусинки играют на свету, создавая эффект капелек росы.\n\nНа нашей мастерской вы научитесь создавать такие деревья с нуля. Мы будем работать с гибкой проволокой, аккуратно нанизывать бисер и скручивать веточки, чтобы сформировать воздушную, но устойчивую композицию. В процессе работы вы сможете выбрать цветовую гамму своего дерева, сделать его пышным или изящным, добавить необычные детали.\n\nГотовое изделие можно установить на камне, деревянной подставке или даже оформить в миниатюрный горшочек — так оно станет стильным элементом интерьера или уникальным подарком для близких.\n\nПрисоединяйтесь к мастерской и создайте своё собственное Дерево счастья!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25099",
          "title_ru": "Эксперименты с растениями (W25099)",
          "locationId": "loc4",
          "eventType": "science_activity",
          "startTime": "16:00",
          "endTime": "17:00",
          "description_ru": "Описание сладкой мастерской. Для организаторов, думаю, эта мастерская всем известна и понятна, и не нужно долго рассказывать, что там происходит. Для помощников, которые будут вызываться мне помогать, и делают это впервые, важно знать, что нужно найти меня заранее, написать мне в фейсбуке или по какому-нибудь мессенджеру тел. +491717462225 Оговорить предварительно, кто что может закупить для сладкой мастерской. Затем нужно будет прийти заранее ко мне на поляну. Обычно меня можно найти за юртой, и мы будем скатывать много одинаковых небольших шариков сладкого теста. Потом нужно будет в большой палатке накрыть столы и подготовить разные ингредиенты. Потом нужно будет разделиться на команды, и каждый будет раздавать какие-то ингредиенты нашим участникам, которых будет много, и они будут активно стремиться принять участие в этой мастерской. После чего убрать палатку, привести все в исходный вид.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25062",
          "title_ru": "Лепка из полимерной глины (W25062)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "16:00",
          "endTime": "17:00",
          "description_ru": "Почитаем стихи современных поэтов.\nЯ расскажу о современных поэтах, чье творчество я люблю. Почитаю их любимые стихи.\n\nУчастники приглашаются поделиться своими рассказами о любимых поэтах наших современниках и их творчестве.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25096",
          "title_ru": "Лепка для детей 3-5 лет (W25096)",
          "locationId": "loc7",
          "eventType": "workshop",
          "startTime": "16:00",
          "endTime": "17:00",
          "description_ru": "Собираем тех, кто уже уверенно бегает и будем играть с мячом - вышибала, ручеек; предложения игр приветствуются",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "3-5 лет"
        },
        {
          "eventId": "W25107",
          "title_ru": "Кофейная гуща (W25107)",
          "locationId": "loc1",
          "eventType": "activity",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "Из бумажных стаканчиков с помощью ножниц и ОЧумелых ручек можно сотворить шляпку а-ля соломенная (размером на куклу). Желающие могут её потом украсить/разрисовать.\nЯ сделала за 15 минут.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25059",
          "title_ru": "Керамика (W25059)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "Традиционный шахматный уголок. Как обычно будет пару досок, с часами - с возможностью просто поиграть в шахматы или в шахматные вариации.\nНа одной из досок будут предлагаться задачи и этюды для желающих.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25047",
          "title_ru": "Кукольный театр (W25047)",
          "locationId": "loc7",
          "eventType": "performance",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "Паб-Квиз \"Посиделки с умом\". Мы задаём разные категории вопросов, а вы в командах отвечаете на них.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25034",
          "title_ru": "Спортивные игры (W25034)",
          "locationId": "loc9",
          "eventType": "game",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "Во время повторяющейся мастерской мы будем делать мягкие карабины, которые способны выдержать груз до 1000kg и более. Такие карабины используются в парусном спорте, альпинизме, походах и прочих повседневных мероприятиях.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_ужин_2025-05-29_18:00-19:00_46",
          "title_ru": "Ужин",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "18:00",
          "endTime": "19:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25033",
          "title_ru": "Мини диско (W25033)",
          "locationId": "loc9",
          "eventType": "dance",
          "startTime": "18:00",
          "endTime": "19:00",
          "description_ru": "Мини-дискотека для малышей и не только. Ведущие - опытные аниматоры Миша и Макс. Антон на подхвате.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25001",
          "title_ru": "Официальное открытие слёта (W25001)",
          "locationId": "loc1",
          "eventType": "ceremony",
          "startTime": "19:30",
          "endTime": "20:30",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25019_Do2100",
          "title_ru": "Песни у костра для взрослых и детей (W25019)",
          "locationId": "loc6",
          "eventType": "activity",
          "startTime": "21:00",
          "endTime": "22:00",
          "description_ru": "По вечерам будем петь песни у главного костра, начиная с детского репертуара, заканчивая взрослыми песнями.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        }
      ]
    },
    "2025-05-30": {
      "dayLabel_de": "Freitag",
      "dayLabel_ru": "Пятница",
      "fullDayDescription_ru": "Пятница 30.05.2025",
      "events": [
        {
          "eventId": "gen_завтрак_2025-05-30_09:00-10:00_50",
          "title_ru": "Завтрак",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "09:00",
          "endTime": "10:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25058",
          "title_ru": "Роспись футболок (W25058)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Я бы хотела провести 2 неповторимых мастерских, одну для детей 7-12 лет, другую - для взрослых. Обе мастерские будут длиться 1,5-2 часа. Речь в них пойдет об истории Гамельна, о реальных исторических и мифологических событиях, которые происходили в этом старинном городе. Детская мастерская совместит в себе мой короткий рассказ об истории города и легенде о Крысолове и возможность помастерить: я принесу тематические раскраски и материалы для поделок. Взрослая мастерская будет состоять из лекции об истории города, просмотре фотографий, беседы в конце. //Комментарий куратора: лекция для взрослых будет в рамках мастеской \"Сложно и понятно\"",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25065",
          "title_ru": "Квест по химии (W25065)",
          "locationId": "loc4",
          "eventType": "quest",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Дорогие, в этом году мы снова будем каждое утро пробуждаться, разминаться после сна, наполняться энергией и хорошим настроением на весь предстоящий день 🥰\n\nМастерская будет состоять из трех небольших частей:\n1. Разминка (15-20 мин): мягкие упражнения для пробуждения тела, с акцентом на вытяжение позвоночника, на проработку области шеи, плеч и спины - то, что чаще всего нуждается в нашей заботе как после сна, так и по жизни.\n\n2. Дыхательные упражнения (10-15 минут): техники пранаямы (капалабхати, полное йоговское дыхание, и другие) - продолжаем пробуждаться и наполняться энергией. Перед выполнением дыхательных практик я буду давать их краткое описание, и предупреждать о возможных противопоказаниях.\n\n3. Медитация (10-15 минут): успокоение ума и настройка на день. В гуще событий фестиваля будет ценно замедлиться и возвратиться ко внутреннему спокойствию и тишине. Мы будем практиковать, в основном, медитацию осознанности, но по ситуации попробуем и другие техники (например, метту — медитацию любящей доброты)\n\nЯ проходила обучение на преподавателя йоги и медитации, и буду рада поделиться тем, что сама практикую ежедневно уже несколько лет.\n\nМастерская ориентирована на взрослых, но может быть интересна и подросткам.\n\nВажно! Просьба к участникам захватить с собой коврики и подушки, чтобы было удобно расположиться в сидячем положении. Если сидеть на коврике вам неудобно, можете захватить и кресло 🥰\nДо встречи в Гамельне!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25105",
          "title_ru": "Игры с воздушными шарами (W25105)",
          "locationId": "loc3",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25097_Fr1000",
          "title_ru": "Подвижные игры для детей 3-5 лет (W25097)",
          "locationId": "loc7",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Паяем что-то, отпаиваем детальки из старых плат.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "3-5 лет"
        },
        {
          "eventId": "W25104_Fr1000",
          "title_ru": "Настольные игры (W25104)",
          "locationId": "loc8",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Акройога – упражнения в парах или минигруппах в которых одни (база) поддерживают других (летунов) в различных позах и переходах. Акройога развивает баланс, силу, гибкость и доверие между партнерами. Подходит для взрослых и подростков. PS: в нашем случае никакой связи с йогой нет",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25081",
          "title_ru": "Ювелирная мастерская (W25081)",
          "locationId": "loc2",
          "eventType": "workshop",
          "startTime": "10:00",
          "endTime": "13:00",
          "description_ru": "Хотите окунуться в мир грации, красоты и энергии востока? Наша мастерская – это место, где каждый найдет гармонию тела и души через танец. Приглашаем всех участников и участниц любых возрастов!\nЯ привезу аксессуары, которые можно будет попробовать использовать в танце! Мы разучим несложные, красивые движения и связки!\nЕсли у Вас дома есть аксессуары или костюмы для восточных танцев-привозите!!! (Конечно же, если найдётся место).\nБуду рада встрече с вами!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25067",
          "title_ru": "Макраме (W25067)",
          "locationId": "loc1",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25129",
          "title_ru": "Программирование на Scratch (W25129)",
          "locationId": "loc4",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25063",
          "title_ru": "Рисование акварелью (W25063)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "Запускаем гигантские мыльные пузыри",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25113_Fr1100",
          "title_ru": "Книжная лавка (W25113)",
          "locationId": "loc5",
          "eventType": "shop",
          "startTime": "11:00",
          "endTime": "13:00",
          "description_ru": "Мы показываем простые игры с верёвочками, дарим верёвочку, чтобы дети и взрослые могли попрактиковаться сами и научить других. Просто так, для радости",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25079",
          "title_ru": "Историческое фехтование (W25079)",
          "locationId": "loc9",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "13:00",
          "description_ru": "Хотите попробовать снять собственный маленький мультфильм? В этой мастерской я хотел бы показать, как делать пластилиновые мультики в технике Stop Motion. Если вам понравится, потом вы сможете использовать и Лего, и фольгу, и проволоку, и даже специальные фигурки с подвижными суставами. Но для начала вам понадобятся:\n- пластилин\n- мобильный телефон со скачанным бесплатным эппом Stop Motion Studio\n- подставка, штатив или любая подходящая держалка для телефона\n- терпение :)\n\nДо встречи на поляне, Алекс",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25112",
          "title_ru": "Игры нашего двора (W25112)",
          "locationId": "loc7",
          "eventType": "game",
          "startTime": "12:00",
          "endTime": "13:00",
          "description_ru": "В этой мастерской у Вас будет возможность создать свою неповторимую, уникальную сумку. У участников мастерской смогут расписать свою сумку акрильными красками. Нарисовать свой мотив, под руководством профисионального художника.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_обед_2025-05-30_13:00-15:00_67",
          "title_ru": "Обед",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "13:00",
          "endTime": "15:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25023_Fr",
          "title_ru": "Ярмарка (W25023)",
          "locationId": "loc5",
          "eventType": "fair",
          "startTime": "13:00",
          "endTime": "17:00",
          "description_ru": "В рамках мастерской будет представлена краткая информация об истории расшифровки генетического кода и о том, как он, собственно, работает. Участники смогут ознакомиться с материалами в распечатанном виде, а также, по желанию, послушать объяснение ведущего.\n\nЗатем каждому будет предложено расшифровать генетические нуклеотидные последовательности, в которых закодированы «человеческие» слова, названия стран, рек, городов, имена «великих» и их изречения, шедевры и прочее.\n\nСледующий этап – сборка найденных слов в логически связанные группы. Можно участвовать как индивидуально, так и в командах. Задания будут разной сложности в зависимости от возраста участников. По итогам конкурса будут объявлены победители.\nПриглашаем всех, кто хочет попробовать себя в роли генетического дешифровщика и по-новому взглянуть на язык жизни!",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25072",
          "title_ru": "Психологическая игра \"Остров мечты\" (W25072)",
          "locationId": "loc1",
          "eventType": "game",
          "startTime": "15:00",
          "endTime": "18:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25071",
          "title_ru": "Посиделки с гитарой (W25071)",
          "locationId": "loc2",
          "eventType": "activity",
          "startTime": "15:00",
          "endTime": "18:00",
          "description_ru": "С помощью электропроводящей клейкой лентой лепим на бумаге маленькие электросхемы, которые позволят создать индивидуально декорированные лампы или сконструировать роботов.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25010",
          "title_ru": "Квест по астрономии (W25010)",
          "locationId": "loc4",
          "eventType": "quest",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Давно известные и ожидаемые мнуши",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25061",
          "title_ru": "Декупаж (W25061)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Будем украшать вышивкой рубашку, футболку или платье.\n\nВозьмите с собой в лагерь тот предмет одежды, который вы хотите сделать уникальным с помощью вышивки.\n\nНа поляне мы перенесем на ваш предмет гардероба небольшой рисунок, а потом вышлем его тамбурным швом нитками мулине.\n\nПосле участия в мастерской вы станете счастливым обладателем неповторимой рубашки или футболки.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25046_Fr1500",
          "title_ru": "Рисование для детей 3-5 лет (W25046)",
          "locationId": "loc7",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "В нашей мастерской у участников будет возможность отлить из олова разнообразные фигурки: солдатиков, новогодние игрушки, всадников и лошадей и тд из готовых форм.\nПосле отлива фигурки можно будет отшлифовать и грунтовать. А на следующий день будет раскрашивание для желающих.\n\nНам нужно два дня.\n\nВ работе с горячим оловом нужно быть очень осторожным, поэтому дети до 10 лет допускаются с родителями :)\nНужны взрослые, умеющие работать с металлом.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "3-5 лет"
        },
        {
          "eventId": "W25037_Fr1500",
          "title_ru": "Взрослые настольные игры (W25037)",
          "locationId": "loc8",
          "eventType": "game",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Основные обязанности:\n1. Проверка талонов:\n• Убедиться, что дата на талоне соответствует текущему дню.\n• Проверять, соответствует ли талон конкретному приему пищи (завтрак, обед, ужин).\n• Убедиться, что талон принадлежит взрослому или ребенку (в зависимости от отметки).\n• Отдельно проверять специальные талоны для вегетарианцев, чтобы гарантировать правильное питание.\n2. Контроль порядка:\n• Следить за тем, чтобы питание получали только обладатели действительных талонов.\n• Указывать людям, если у них неправильный талон и объяснять, что делать в таком случае.\n3. Взаимодействие с командой:\n• В случае вопросов или спорных ситуаций обращаться к ответственным за выдачу еды.\n• Помогать координировать поток людей, чтобы избежать задержек и очередей.\n\nГрафик дежурств:\n• Завтрак: 2 часа (дежурные сменяются каждые 30 минут или каждый час).\n• Обед: 2 часа (дежурные сменяются каждые 30 минут или каждый час).\n• Ужин: 1 час (дежурные сменяются каждые 30 минут или каждый час).\n\nКаждый желающий может записаться на удобное время дежурства, выбрав дату и смену.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25076",
          "title_ru": "Игры для всей семьи (W25076)",
          "locationId": "loc9",
          "eventType": "game",
          "startTime": "16:00",
          "endTime": "17:00",
          "description_ru": "Во время нашей мастерской участники от 6 до 12 лет (и все кто себя таковыми считает) прослушают супер-экспресс-курс на темы: \"кто и зачем придумал книги\" и \"путь книги от задумки до читательской полки\"; узнают из первых рук, откуда берутся идеи; полистают самые необыкновенные книги на свете, создадут свою собственную \"мини-книжку\" и расшифруют пропавшую иллюстрацию.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25096_Fr1600",
          "title_ru": "Лепка для детей 3-5 лет (W25096)",
          "locationId": "loc7",
          "eventType": "workshop",
          "startTime": "16:00",
          "endTime": "17:00",
          "description_ru": "Собираем тех, кто уже уверенно бегает и будем играть с мячом - вышибала, ручеек; предложения игр приветствуются",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "3-5 лет"
        },
        {
          "eventId": "W25047_Fr1700",
          "title_ru": "Кукольный театр (W25047)",
          "locationId": "loc7",
          "eventType": "performance",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "Паб-Квиз \"Посиделки с умом\". Мы задаём разные категории вопросов, а вы в командах отвечаете на них.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_ужин_2025-05-30_18:00-19:00_83",
          "title_ru": "Ужин",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "18:00",
          "endTime": "19:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25033_Fr1800",
          "title_ru": "Мини диско (W25033)",
          "locationId": "loc9",
          "eventType": "dance",
          "startTime": "18:00",
          "endTime": "19:00",
          "description_ru": "Мини-дискотека для малышей и не только. Ведущие - опытные аниматоры Миша и Макс. Антон на подхвате.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25040",
          "title_ru": "Акустический концерт (W25040)",
          "locationId": "loc1",
          "eventType": "performance",
          "startTime": "19:30",
          "endTime": "20:30",
          "description_ru": "Соберемся попеть многоголосие и разучить что- нибудь для концерта.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25019_Fr2100",
          "title_ru": "Песни у костра для взрослых и детей (W25019)",
          "locationId": "loc6",
          "eventType": "activity",
          "startTime": "21:00",
          "endTime": "22:00",
          "description_ru": "По вечерам будем петь песни у главного костра, начиная с детского репертуара, заканчивая взрослыми песнями.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25021",
          "title_ru": "Ночная игротека (W25021)",
          "locationId": "loc8",
          "eventType": "game",
          "startTime": "22:00",
          "endTime": "23:00",
          "description_ru": "Как каждый год, мы спрячем коробочки с кладиками в окрестностях поляны и подготовим описание пути для поиска. Дети делятся на команды, получают инструкцию для одного из кладов и идут на поиски. С собой нужно брать собственные сокровища, чтобы менять их на спрятанные в найденной коробке. По возвращении команды могут идти искать следующий клад.\nПомощники нужны, чтобы проложить маршруты, составить креативные описания дороги и спрятать коробочки с кладами. После мастерской их нужно будет опять собрать. Для проведения также нужна помощь, чтобы направлять команды и координировать процесс.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25012",
          "title_ru": "Наблюдение за звёздами (W25012)",
          "locationId": "loc4",
          "eventType": "observation_activity",
          "startTime": "23:00",
          "endTime": "00:00",
          "description_ru": "Старое доброе грязное",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        }
      ]
    },
    "2025-05-31": {
      "dayLabel_de": "Samstag",
      "dayLabel_ru": "Суббота",
      "fullDayDescription_ru": "Суббота 31.05.2025, родительский день",
      "events": [
        {
          "eventId": "gen_завтрак_2025-05-31_09:00-10:00_90",
          "title_ru": "Завтрак",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "09:00",
          "endTime": "10:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25006",
          "title_ru": "Регистрация на поляне (W25006)",
          "locationId": "loc2",
          "eventType": "registration",
          "startTime": "10:00",
          "endTime": "13:00",
          "description_ru": "Играем в детские игры во взрослой компании",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25022",
          "title_ru": "Финансовая игра \"Не в деньгах счастье\" (W25022)",
          "locationId": "loc4",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "13:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25125",
          "title_ru": "Оригами (W25125)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Представь себе мир, в котором больше нельзя содержать домашних животных, в школе каждый день ты ежедневно видишь свой рейтинг среди одноклассников, а взрослые больше не могут легально заводить детей.\n\nЗвучит пугающе? Но такие идеи - уже давно не фантастика, а возможное завтра.\nВопрос в том, сможешь ли ты защитить свою позицию.\n\nНе эмоциями. Аргументами.\n\n\nДобро пожаловать в дебатную мастерскую для подростков 12+\nДебаты - это точка столкновения двух мнений, поиск неожиданных аргументов и место, где мы не просто спорим - мы учимся думать. И говорить. И убеждать. Склонять на свою сторону.\n\n🔥Как всё устроено:\n— разбиваемся на две команды: Утверждение и Отрицание\n— выбираем тему голосованием\n🤝 Примеры тем:\n— Нужно запретить браки по договоренности родителей.\n— Учебный день должен начинаться позже, чтобы ученики могли больше спать.\n— Следует запретить подросткам иметь отношения со значительной разницей в возрасте.\n— Нужно запретить использовать ChatGPT в школе.\n— Нет плохих детей, только плохие родители.\n\n👊 Побочные эффекты: весело, часто громко и точно больше не хочется молчать.\n\n\nПриходите!\n\n12+",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25097_Sa1000",
          "title_ru": "Подвижные игры для детей 3-5 лет (W25097)",
          "locationId": "loc7",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Паяем что-то, отпаиваем детальки из старых плат.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": "3-5 лет"
        },
        {
          "eventId": "W25104_Sa1000",
          "title_ru": "Настольные игры (W25104)",
          "locationId": "loc8",
          "eventType": "game",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Акройога – упражнения в парах или минигруппах в которых одни (база) поддерживают других (летунов) в различных позах и переходах. Акройога развивает баланс, силу, гибкость и доверие между партнерами. Подходит для взрослых и подростков. PS: в нашем случае никакой связи с йогой нет",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25075",
          "title_ru": "Ирландские танцы (W25075)",
          "locationId": "loc9",
          "eventType": "dance",
          "startTime": "10:00",
          "endTime": "13:00",
          "description_ru": "Жвалевский - Пастернак (один автор - два человека) расскажет вам много интересного. Что именно? Зависит только от вас. Лекции не будет, будут ответы на вопросы. Не обязательно про книги и литературу. Приходите, пообщаемся.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25080",
          "title_ru": "Шляпная мастерская (W25080)",
          "locationId": "loc3",
          "eventType": "workshop",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "Ролевая игра для всех желающих.\nПример игры: соседи. Все желающие делиться на домохозяйства по сценарию. Интеллигентная семья с 2 детьми, собакой и кошкой(тоже дети); студенты; пара пенсионеров; маргинальная семья; неприлично богатая семья; папа токарь, я тиктокер, да мало ли ещё кто. Полчаса на вжиться в роль, обустроить домохозяйство. Суть игры: работа с обстоятельствами. Например, интеллигентная семья внезапно затопила неприлично богатую семью, при этом, их мама учительница плохоуспевающего сына из богатой семьи. Задача: разрулить конфликт. Или студенты случайно нанесли психологическую травму кошке из интеллигентной семьи своей громкой музыкой. Бабушка - кошачий психотерапевт пытается помочь ей пережить это :)\nСюжеты живут параллельно, обычно получается очень смешно и остаётся в памяти надолго. Идеальный итог игры - это когда все помирились и пошли на праздничный пир-обед/ужин :)\nДлительность часа 3\nНужны 2-3 помощника для разработки сценария и во время игры для направления в нужное(мирное и веселое) русло",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25112_Sa1200",
          "title_ru": "Игры нашего двора (W25112)",
          "locationId": "loc7",
          "eventType": "game",
          "startTime": "12:00",
          "endTime": "13:00",
          "description_ru": "В этой мастерской у Вас будет возможность создать свою неповторимую, уникальную сумку. У участников мастерской смогут расписать свою сумку акрильными красками. Нарисовать свой мотив, под руководством профисионального художника.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_обед_2025-05-31_13:00-15:00_104",
          "title_ru": "Обед",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "13:00",
          "endTime": "15:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25082",
          "title_ru": "Учимся крутить пои (W25082)",
          "locationId": "loc2",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Учимся крутить учебные пои, либо готовые, либо самодельные из гольф и тенисных мячиков.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25070",
          "title_ru": "Релаксационные техники (W25070)",
          "locationId": "loc4",
          "eventType": "workshop",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Хочу пригласить Вас на мастерскую по релаксационным техникам — пространство, где вы сможете замедлиться, услышать себя и научиться техникам, которые можно применять в повседневной жизни или просто отдохнуть от суеты поляны. В рамках мастерской мы познакомимся с автогенным тренингом, прогрессивной мышечной релаксацией и йога-нидрой. Автогенный тренинг поможет вам активизировать ресурсы саморегуляции, прогрессивная мышечная релаксация — осознанно снять напряжение в теле, а йога-нидра погрузит в глубокое состояние внутреннего покоя. Занятия подходят для любого уровня подготовки.\nВозьмите с собой на чем лежать, чем укрыться (главное, чтобы не замерзнуть) и чашку для чая.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25020",
          "title_ru": "Парные фольклорные танцы (W25020)",
          "locationId": "loc9",
          "eventType": "dance",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Помимо фольклорных танцев (Германии, Америки) немного круговых и змейкой",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25077",
          "title_ru": "Домино экспресс (W25077)",
          "locationId": "loc8",
          "eventType": "game",
          "startTime": "15:00",
          "endTime": "16:00",
          "description_ru": "Строим домино. Разбиваем участников на пары/группы, даем каждому по набору кирпичиков домино, даем строить и в конце мастерской \"соединяем\" в одну композицию и разрушаем её.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_спектакль_2025-05-31_16:00_110",
          "title_ru": "Спектакль",
          "locationId": "loc1",
          "eventType": "performance",
          "startTime": "16:00",
          "endTime": "17:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25127",
          "title_ru": "Покраска хлоркой (W25127)",
          "locationId": "loc2",
          "eventType": "workshop",
          "startTime": "17:00",
          "endTime": "18:00",
          "description_ru": "покраска хлоркой футболок - это крайне простая и быстрая вещь, доступная и детям и взрослым. дети до 7 лет должны быть в сопровождении взрослого, остальные вполне справятся сами. для участия необходима хлопковая футболка темных оттенков (не обязательно черная). лучше всего, если на вас одежда не будет темной и хлопковой для этой мастерской, чтобы избежать возможных пятен. мастерская проводится на улице, хлорка безопасна и выветривается мгновенно. сам процесс занимает минут 15 вместе с созданием узора-композиции. футболку можно будет использовать (носить) сразу после, как только выветрится хлорка.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_ужин_2025-05-31_18:00-19:00_112",
          "title_ru": "Ужин",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "18:00",
          "endTime": "19:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25033_Sa1800",
          "title_ru": "Мини диско (W25033)",
          "locationId": "loc9",
          "eventType": "dance",
          "startTime": "18:00",
          "endTime": "19:00",
          "description_ru": "Мини-дискотека для малышей и не только. Ведущие - опытные аниматоры Миша и Макс. Антон на подхвате.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25041",
          "title_ru": "Концерт мастерских (W25041)",
          "locationId": "loc1",
          "eventType": "performance",
          "startTime": "19:30",
          "endTime": "20:30",
          "description_ru": "Традиционный концерт мастерских в субботу вечером",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25019_Sa2100",
          "title_ru": "Песни у костра для взрослых и детей (W25019)",
          "locationId": "loc6",
          "eventType": "activity",
          "startTime": "21:00",
          "endTime": "22:00",
          "description_ru": "По вечерам будем петь песни у главного костра, начиная с детского репертуара, заканчивая взрослыми песнями.",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        }
      ]
    },
    "2025-06-01": {
      "dayLabel_de": "Sonntag",
      "dayLabel_ru": "Воскресенье",
      "fullDayDescription_ru": "Воскресенье 01.06.2025, день отъезда",
      "events": [
        {
          "eventId": "gen_завтрак_2025-06-01_09:00-10:00_117",
          "title_ru": "Завтрак",
          "locationId": "loc3",
          "eventType": "meal",
          "startTime": "09:00",
          "endTime": "10:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "W25007",
          "title_ru": "Закрытие слёта (W25007)",
          "locationId": "loc1",
          "eventType": "ceremony",
          "startTime": "10:00",
          "endTime": "11:00",
          "description_ru": "Худхулиганство 2.0 (следите за нашими анонсами и читайте Шекспира)",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_общая_уборка_территории_2025-06-01_11:00_119",
          "title_ru": "Общая уборка территории",
          "locationId": "loc3",
          "eventType": "general_activity",
          "startTime": "11:00",
          "endTime": "12:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        },
        {
          "eventId": "gen_отъезд_2025-06-01_12:00_120",
          "title_ru": "Отъезд",
          "locationId": "loc3",
          "eventType": "general_activity",
          "startTime": "12:00",
          "endTime": "13:00",
          "description_ru": "",
          "details_ru": null,
          "url": "",
          "targetAudience_ru": null
        }
      ]
    }
  }
}

    </script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; 
        }
        #loadingIndicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(243, 244, 246, 0.9); /* Light gray with opacity */
            z-index: 9999;
            text-align: center;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #1e3a8a; /* Indigo */
            animation: spin 1s ease infinite;
            margin-bottom: 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .event-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 1rem;
            padding: 1.5rem;
            transition: box-shadow 0.3s ease-in-out;
            position: relative;
        }
        .event-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .event-title {
            font-weight: 700;
            font-size: 1.125rem; 
            color: #111827; 
            margin-bottom: 0.25rem; 
            display: flex; 
            align-items: center; 
            flex-wrap: wrap; 
        }
        .duration-badge {
            font-size: 0.75rem; 
            color: #4b5563; 
            background-color: #e5e7eb; 
            padding: 0.125rem 0.375rem; 
            border-radius: 0.25rem; 
            margin-left: 0.5rem; 
            font-weight: 500; 
            white-space: nowrap; 
        }
        .event-description { 
            font-size: 0.875rem;
            color: #374151; 
            margin-top: 0.5rem;
            margin-bottom: 0.25rem;
            padding-left: 0.5rem;
            border-left: 2px solid #d1d5db;
        }
        .event-url { 
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        .event-url a {
            color: #1d4ed8;
            text-decoration: underline;
        }
        .event-url a:hover {
            color: #1e3a8a;
        }
        .event-details {
            font-size: 0.875rem;
            color: #4b5563;
            margin-bottom: 0.25rem;
        }
        .event-location {
            font-style: italic;
            color: #1e3a8a;
        }
        .day-header { 
            font-size: 1.5rem; 
            font-weight: 700;
            color: #1e3a8a;
            margin-top: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #60a5fa;
        }
        .timeslot-group {
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: #f9fafb;
            border-radius: 0.375rem;
        }
        .timeslot-time-header { 
            font-size: 1.25rem; 
            font-weight: 600;
            color: #1d4ed8;
            margin-bottom: 1rem;
            padding-bottom: 0.25rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .meal-item {
            background-color: #e0e7ff;
            color: #3730a3;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 600;
        }
        .note {
            background-color: #fffbeb;
            color: #b45309;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #f59e0b;
        }
        .favorite-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background-color: #e5e7eb;
            color: #374151;
            border: none;
            border-radius: 50%;
            width: 2.5rem;
            height: 2.5rem;
            font-size: 1.25rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s, color 0.3s;
            z-index: 10; 
        }
        .favorite-btn.favorited {
            background-color: #fde047;
            color: #ca8a04;
        }
        .favorite-btn:hover {
            opacity: 0.8;
        }
        #installPwaButton {
            display: none; 
            background-color: #2563eb;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 600;
            cursor: pointer;
            margin: 0.5rem;
            text-align: center;
        }
        #installPwaButton:hover {
            background-color: #1d4ed8;
        }
        .hidden-by-filter, .tab-panel:not(.active), #loadingIndicator.hidden { 
            display: none !important;
        }
        #noFavoritesMessage {
            display: none;
            text-align: center;
            font-size: 1.125rem;
            color: #4b5563;
            margin-top: 2rem;
            padding: 1rem;
            background-color: #f9fafb;
            border-radius: 0.5rem;
        }
        .tab-nav {
            display: flex;
            flex-wrap: wrap;
            border-bottom: 2px solid #d1d5db;
            margin-bottom: 1.5rem;
        }
        .tab-button {
            padding: 0.75rem 1rem;
            cursor: pointer;
            border: none;
            background-color: transparent;
            color: #4b5563;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            transition: color 0.3s, border-color 0.3s;
        }
        .tab-button:hover {
            color: #1e3a8a;
        }
        .tab-button.active {
            color: #1e40af;
            border-bottom-color: #1e40af;
        }
        .toggle-switch-label {
            font-size: 0.875rem; 
            color: #374151; 
            margin-right: 0.5rem;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px; 
            height: 24px; 
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px; 
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px; 
            width: 18px;  
            left: 3px;   
            bottom: 3px; 
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #10b981; 
        }
        input:checked + .slider:before {
            transform: translateX(20px); 
        }
        .controls-container { 
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; 
            margin-bottom: 1rem;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div id="loadingIndicator">
        <div class="spinner"></div>
        <p class="text-lg font-semibold text-gray-700">Загрузка расписания...</p>
    </div>

    <div class="container mx-auto max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-blue-700">Гамельн</h1>
            <p class="text-xl text-gray-600">Май/Июнь 2025</p>
        </header>

        <div id="controlsContainer" class="controls-container mb-4">
             <button id="installPwaButton">Установить приложение</button>
             <div class="flex items-center ml-4"> 
                <span class="toggle-switch-label" id="favoriteToggleLabel">Показать все</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="favoriteToggleSwitch">
                    <span class="slider"></span>
                </label>
             </div>
        </div>

        <div class="note">
            <p><strong>Важное замечание:</strong> Если два мастер-класса указаны в одной ячейке друг под другом, они проходят одновременно. Нажмите на звездочку (☆), чтобы сохранить мастер-класс в избранное.</p>
        </div>
        
        <div id="noFavoritesMessage">
            Избранных мастер-классов нет. Отметьте мастер-классы звездочкой ☆, чтобы они отображались здесь.
        </div>

        <nav class="tab-nav" aria-label="Навигация по дням" id="tabNavContainer">
            </nav>

        <div id="workshopsTabsContainer">
            </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const loadingIndicator = document.getElementById('loadingIndicator');
            const favoriteToggleSwitch = document.getElementById('favoriteToggleSwitch');
            const favoriteToggleLabel = document.getElementById('favoriteToggleLabel');
            const tabNavContainer = document.getElementById('tabNavContainer');
            const workshopsTabsContainer = document.getElementById('workshopsTabsContainer');
            const noFavoritesMessage = document.getElementById('noFavoritesMessage');
            
            if (!tabNavContainer || !workshopsTabsContainer ) {
                console.error("CRITICAL: Tab- oder Workshop-Container nicht im DOM gefunden. Initialisierung abgebrochen.");
                if (loadingIndicator) loadingIndicator.classList.add('hidden');
                return;
            }

            let favorites = JSON.parse(localStorage.getItem('workshopFavorites')) || [];
            let currentView = localStorage.getItem('workshopPlanView') || 'all';
            if (favoriteToggleSwitch) { 
                favoriteToggleSwitch.checked = (currentView === 'favorites');
            }

            const showLoading = () => {
                if (loadingIndicator) loadingIndicator.classList.remove('hidden');
            }
            const hideLoading = () => {
                 if (loadingIndicator) loadingIndicator.classList.add('hidden');
            }

            const updateFavoriteButtonAppearance = (button, eventId) => {
                if (favorites.includes(eventId)) {
                    button.classList.add('favorited');
                    button.textContent = '★';
                    button.setAttribute('aria-label', 'Удалить из избранного');
                } else {
                    button.classList.remove('favorited');
                    button.textContent = '☆';
                    button.setAttribute('aria-label', 'Добавить в избранное');
                }
            };
            
            const attachFavoriteButtonListeners = () => {
                if (!workshopsTabsContainer) return; 
                const favoriteButtons = workshopsTabsContainer.querySelectorAll('.favorite-btn');
                favoriteButtons.forEach(button => {
                    const newButton = button.cloneNode(true); 
                    button.parentNode.replaceChild(newButton, button);

                    const card = newButton.closest('.event-card'); 
                    if (card) {
                        const eventId = card.dataset.eventId;
                        if (eventId) { 
                            updateFavoriteButtonAppearance(newButton, eventId);
                            newButton.addEventListener('click', (e) => {
                                e.stopPropagation(); 
                                if (favorites.includes(eventId)) {
                                    favorites = favorites.filter(id => id !== eventId);
                                } else {
                                    favorites.push(eventId);
                                }
                                localStorage.setItem('workshopFavorites', JSON.stringify(favorites));
                                updateFavoriteButtonAppearance(newButton, eventId);
                                renderWorkshops(); 
                            });
                        }
                    }
                });
            };

            const getLocationNameById = (locationId) => {
                if (!embeddedTimetableData.locations) return 'Место не указано';
                const locationObj = embeddedTimetableData.locations.find(loc => loc.locationId === locationId);
                return locationObj ? locationObj.name_ru : 'Место не указано'; 
            };

            const parseTime = (timeStr) => { 
                if (!timeStr || !timeStr.includes(':')) return null;
                const [hours, minutes] = timeStr.split(':').map(Number);
                if (isNaN(hours) || isNaN(minutes)) return null;
                return hours * 60 + minutes;
            };

            const getDurationBadge = (startTime, endTime) => {
                const startMinutes = parseTime(startTime);
                const endMinutes = parseTime(endTime);

                if (startMinutes === null || endMinutes === null) return null;
                
                let duration = endMinutes - startMinutes;
                if (duration < 0) { 
                    duration += 24 * 60;
                }

                if (duration > 0 && duration <= 60) {
                    return '(≤1ч)';
                }
                return null;
            };


            const buildWorkshopHTML = (event) => {
                if (event.eventType === 'meal') {
                    return `
                        <div class="meal-item" data-event-id="${event.eventId}">
                            <p>${event.title_ru} ${event.locationId ? `- Место: ${getLocationNameById(event.locationId)}` : ''}</p>
                        </div>
                    `;
                }

                let titleHTML = event.title_ru;
                const durationBadgeText = getDurationBadge(event.startTime, event.endTime);
                if (durationBadgeText) {
                    titleHTML += ` <span class="duration-badge">${durationBadgeText}</span>`;
                }

                let detailsHTML = '';
                if (event.details_ru) {
                    detailsHTML += `<p class="event-details">${event.details_ru}</p>`;
                }
                if (event.targetAudience_ru) {
                    detailsHTML += `<p class="event-details">Целевая аудитория: ${event.targetAudience_ru}</p>`;
                }
                 if (event.startTime && event.endTime && !durationBadgeText) { 
                    detailsHTML += `<p class="event-details">Время: ${event.startTime} - ${event.endTime}</p>`;
                }


                let descriptionHTML = '';
                if (event.description_ru && event.description_ru.trim() !== "") {
                    descriptionHTML = `<p class="event-description">${event.description_ru}</p>`;
                }
                
                let urlHTML = '';
                if (event.url && event.url.trim() !== "") {
                    urlHTML = `<p class="event-url"><a href="${event.url}" target="_blank" rel="noopener noreferrer">Подробнее</a></p>`;
                }

                const favButtonHTML = (event.eventType !== 'meal' && event.eventType !== 'registration' && event.eventType !== 'general_activity' && event.eventType !== 'ceremony') ? '<button class="favorite-btn" aria-label="Добавить в избранное">☆</button>' : '';

                return `
                    <div class="event-card" data-event-id="${event.eventId}">
                        ${favButtonHTML}
                        <p class="event-title">${titleHTML}</p>
                        ${detailsHTML}
                        ${descriptionHTML}
                        ${urlHTML}
                        ${event.locationId ? `<p class="event-location">Место: ${getLocationNameById(event.locationId)}</p>` : ''}
                    </div>
                `;
            };

            const renderWorkshops = () => {
                if (!workshopsTabsContainer) { 
                    console.error("renderWorkshops: workshopsTabsContainer ist nicht verfügbar.");
                    hideLoading();
                    return;
                }
                const activePanel = workshopsTabsContainer.querySelector('.tab-panel.active');
                if (!activePanel || !embeddedTimetableData.schedule) {
                    hideLoading(); 
                    return;
                }

                let hasVisibleContentInActivePanel = false;
                const activeDateKey = activePanel.id.replace('tab-', '');
                const daySchedule = embeddedTimetableData.schedule[activeDateKey];

                if (!daySchedule || !daySchedule.events) {
                    activePanel.innerHTML = `<h2 class="day-header">${activePanel.dataset.dayDe}</h2><p class="text-center text-gray-500 mt-4">Мероприятий на этот день не запланировано.</p>`;
                    hideLoading();
                    return;
                }
                
                const dayEvents = daySchedule.events;
                const timeSlots = {};
                dayEvents.forEach(event => {
                    const slotKey = event.startTime; 
                    if (!timeSlots[slotKey]) {
                        timeSlots[slotKey] = [];
                    }
                    timeSlots[slotKey].push(event);
                });

                activePanel.innerHTML = `<h2 class="day-header">${activePanel.dataset.dayDe}</h2>`; 

                Object.keys(timeSlots).sort().forEach(timeSlot => { 
                    const eventsInSlot = timeSlots[timeSlot];
                    const timeslotGroup = document.createElement('div');
                    timeslotGroup.className = 'timeslot-group';
                    
                    let commonEndTime = eventsInSlot.length > 0 ? eventsInSlot[0].endTime : null;
                    if (commonEndTime) {
                        for (let i = 1; i < eventsInSlot.length; i++) {
                            if (eventsInSlot[i].endTime !== commonEndTime) {
                                commonEndTime = null; 
                                break;
                            }
                        }
                    }
                    timeslotGroup.innerHTML = `<h3 class="timeslot-time-header">${timeSlot}${commonEndTime && commonEndTime !== timeSlot ? ' - ' + commonEndTime : ''}</h3>`;
                    
                    let groupHasAnyVisibleElement = false;

                    eventsInSlot.forEach(event => {
                        const eventHTML = buildWorkshopHTML(event);
                        const tempDiv = document.createElement('div');
                        tempDiv.innerHTML = eventHTML.trim();
                        const eventElement = tempDiv.firstChild;

                        if (currentView === 'all' || (event.eventId && favorites.includes(event.eventId)) || event.eventType === 'meal') {
                            if (eventElement) eventElement.classList.remove('hidden-by-filter');
                            groupHasAnyVisibleElement = true;
                        } else {
                            if (eventElement) eventElement.classList.add('hidden-by-filter');
                        }
                        if (eventElement) timeslotGroup.appendChild(eventElement);
                    });
                    
                    if (groupHasAnyVisibleElement) {
                        activePanel.appendChild(timeslotGroup);
                        hasVisibleContentInActivePanel = true;
                    }
                });
                
                const dayHeaderInActivePanel = activePanel.querySelector('.day-header');
                if (dayHeaderInActivePanel) {
                     dayHeaderInActivePanel.style.display = hasVisibleContentInActivePanel ? '' : 'none';
                }
                
                const visibleTimeSlotGroups = activePanel.querySelectorAll('.timeslot-group:not(.hidden-by-filter)');
                 if (visibleTimeSlotGroups.length === 0 && dayHeaderInActivePanel && activePanel.children.length <=1 ) { 
                     activePanel.style.display = 'none'; 
                } else {
                    activePanel.style.display = '';
                }


                if (noFavoritesMessage) {
                    const activeTabHasContent = activePanel.querySelectorAll('.timeslot-group:not(.hidden-by-filter) .event-card:not(.hidden-by-filter), .timeslot-group:not(.hidden-by-filter) .meal-item:not(.hidden-by-filter)').length > 0;
                    noFavoritesMessage.style.display = (currentView === 'favorites' && !activeTabHasContent) ? 'block' : 'none';
                }

                if (favoriteToggleLabel && favoriteToggleSwitch) {
                    favoriteToggleLabel.textContent = favoriteToggleSwitch.checked ? 'Только избранные' : 'Показать все';
                }
                attachFavoriteButtonListeners(); 
                hideLoading(); 
            };
            
            const setupTabs = (schedule) => {
                if (!tabNavContainer || !workshopsTabsContainer) { 
                    console.error("Tab-Container nicht im DOM gefunden für setupTabs.");
                    return;
                }
                const dateKeys = Object.keys(schedule).sort(); 
                
                tabNavContainer.innerHTML = ''; 
                workshopsTabsContainer.innerHTML = ''; 

                dateKeys.forEach((dateKey, index) => {
                    const dayInfo = schedule[dateKey];
                    const tabButton = document.createElement('button');
                    tabButton.className = 'tab-button';
                    tabButton.textContent = dayInfo.dayLabel_ru; 
                    tabButton.dataset.tabTarget = `tab-${dateKey}`;

                    const tabPanel = document.createElement('div');
                    tabPanel.id = `tab-${dateKey}`;
                    tabPanel.className = 'tab-panel day-section';
                    tabPanel.dataset.dayDe = dayInfo.fullDayDescription_ru; 

                    if (index === 0) {
                        tabButton.classList.add('active');
                        tabPanel.classList.add('active');
                    }
                    
                    tabNavContainer.appendChild(tabButton);
                    workshopsTabsContainer.appendChild(tabPanel);
                });

                const newTabButtons = tabNavContainer.querySelectorAll('.tab-button');
                newTabButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        showLoading();
                        newTabButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        const targetPanelId = button.dataset.tabTarget;
                        if (workshopsTabsContainer) {
                            workshopsTabsContainer.querySelectorAll('.tab-panel').forEach(panel => {
                                panel.classList.toggle('active', panel.id === targetPanelId);
                            });
                        }
                        setTimeout(renderWorkshops, 0); 
                    });
                });
            };
            
            // Initialize with embedded data
            showLoading();
            if (embeddedTimetableData && embeddedTimetableData.schedule) {
                setupTabs(embeddedTimetableData.schedule); 
                
                const initiallyActiveTab = tabNavContainer ? tabNavContainer.querySelector('.tab-button.active') : null;
                if (initiallyActiveTab) {
                    const targetPanelId = initiallyActiveTab.dataset.tabTarget;
                    const targetPanel = document.getElementById(targetPanelId);
                    if (targetPanel) {
                         if(workshopsTabsContainer) workshopsTabsContainer.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active')); 
                        targetPanel.classList.add('active');
                    }
                } else if (tabNavContainer && tabNavContainer.firstChild) { 
                    tabNavContainer.firstChild.classList.add('active');
                    const firstPanelId = tabNavContainer.firstChild.dataset.tabTarget;
                    const firstPanel = document.getElementById(firstPanelId);
                    if (firstPanel) firstPanel.classList.add('active');
                }
                setTimeout(renderWorkshops, 0); 
            } else {
                 console.error("Eingebettete Workshop-Daten (embeddedTimetableData.schedule) nicht gefunden oder fehlerhaft.");
                 if (workshopsTabsContainer) { 
                    workshopsTabsContainer.innerHTML = "<p class='text-red-500 text-center'>Ошибка: Данные о мастер-классах не могут быть инициализированы.</p>";
                }
                hideLoading();
            }


            if (favoriteToggleSwitch) {
                favoriteToggleSwitch.addEventListener('change', () => {
                    showLoading();
                    currentView = favoriteToggleSwitch.checked ? 'favorites' : 'all';
                    localStorage.setItem('workshopPlanView', currentView); 
                    setTimeout(renderWorkshops, 0);
                });
            }
        });

        // Service Worker Registrierung und PWA Installations-Prompt
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('ServiceWorker Registration successful with scope: ', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker Registration failed: ', error);
                    });
            });

            let deferredPrompt;
            const installButton = document.getElementById('installPwaButton');

            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                if(installButton) {
                    installButton.style.display = 'inline-block'; 
                }

                if(installButton) {
                    installButton.addEventListener('click', () => {
                        if (deferredPrompt) {
                            deferredPrompt.prompt();
                            deferredPrompt.userChoice.then((choiceResult) => {
                                if (choiceResult.outcome === 'accepted') {
                                    console.log('User accepted the A2HS prompt');
                                } else {
                                    console.log('User dismissed the A2HS prompt');
                                }
                                deferredPrompt = null;
                                if (installButton) installButton.style.display = 'none';
                            });
                        }
                    });
                }
            });

            window.addEventListener('appinstalled', (evt) => {
                console.log('App wurde installiert');
                if(installButton) {
                    installButton.style.display = 'none';
                }
            });
        }
    </script>

    <!--
    ============================================================================
    manifest.json (Diese Datei separat im Hauptverzeichnis speichern)
    ============================================================================
    ```json
    {
      "name": "Расписание Мастер-классов",
      "short_name": "План МК",
      "description": "Обзорный план мастер-классов мероприятия Май/Июнь 2025.",
      "start_url": "index.html", 
      "display": "standalone",
      "background_color": "#f3f4f6",
      "theme_color": "#1e3a8a",
      "lang": "ru",
      "orientation": "portrait-primary",
      "icons": [
        {
          "src": "icons/icon-72x72.png",
          "sizes": "72x72",
          "type": "image/png",
          "purpose": "any maskable"
        },
        {
          "src": "icons/icon-96x96.png",
          "sizes": "96x96",
          "type": "image/png",
          "purpose": "any maskable"
        },
        {
          "src": "icons/icon-128x128.png",
          "sizes": "128x128",
          "type": "image/png",
          "purpose": "any maskable"
        },
        {
          "src": "icons/icon-144x144.png",
          "sizes": "144x144",
          "type": "image/png",
          "purpose": "any maskable"
        },
        {
          "src": "icons/icon-152x152.png",
          "sizes": "152x152",
          "type": "image/png",
          "purpose": "any maskable"
        },
        {
          "src": "icons/icon-192x192.png",
          "sizes": "192x192",
          "type": "image/png",
          "purpose": "any maskable"
        },
        {
          "src": "icons/icon-384x384.png",
          "sizes": "384x384",
          "type": "image/png",
          "purpose": "any maskable"
        },
        {
          "src": "icons/icon-512x512.png",
          "sizes": "512x512",
          "type": "image/png",
          "purpose": "any maskable"
        }
      ]
    }
    ```

    ============================================================================
    sw.js (Diese Datei separat im Hauptverzeichnis speichern)
    ============================================================================
    ```javascript
    // sw.js - Service Worker

    const CACHE_NAME = 'veranstaltungsplan-cache-v1.19'; // Cache-Version erhöht
    const urlsToCache = [
      './', 
      'index.html', // Wird nun mit eingebetteten Daten gecacht
      'manifest.json',
      // 'timetable.json', // Entfernt, da Daten eingebettet sind
      '[https://cdn.tailwindcss.com](https://cdn.tailwindcss.com)',
      '[https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap](https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap)',
      'icons/icon-192x192.png',
      'icons/icon-512x512.png'
    ];

    self.addEventListener('install', event => {
      console.log('[ServiceWorker] Install');
      event.waitUntil(
        caches.open(CACHE_NAME)
          .then(cache => {
            console.log('[ServiceWorker] Caching app shell');
            const requests = urlsToCache.map(url => new Request(url, {cache: 'reload'}));
            return cache.addAll(requests);
          })
          .catch(error => {
            console.error('[ServiceWorker] Caching failed during install:', error);
            urlsToCache.forEach(url => {
                fetch(new Request(url, {cache: 'reload'})).catch(err => console.error(`Failed to fetch ${url} individually during install:`, err));
            });
          })
      );
    });

    self.addEventListener('activate', event => {
      console.log('[ServiceWorker] Activate');
      event.waitUntil(
        caches.keys().then(cacheNames => {
          return Promise.all(
            cacheNames.map(cacheName => {
              if (cacheName !== CACHE_NAME) {
                console.log('[ServiceWorker] Removing old cache:', cacheName);
                return caches.delete(cacheName);
              }
            })
          );
        }).then(() => self.clients.claim())
      );
    });

    self.addEventListener('fetch', event => {
      // Die spezielle Fetch-Strategie für timetable.json ist nicht mehr nötig.
      
      if (event.request.method !== 'GET') {
        return;
      }

      if (event.request.mode === 'navigate') {
        event.respondWith(
          fetch(event.request)
            .then(response => {
              if (response && response.status === 200) {
                const responseToCache = response.clone();
                caches.open(CACHE_NAME).then(cache => {
                  cache.put(event.request, responseToCache);
                });
              }
              return response;
            })
            .catch(() => {
              return caches.match(event.request)
                        .then(cachedResponse => cachedResponse || caches.match('index.html')); 
            })
        );
        return;
      }

      event.respondWith(
        caches.match(event.request)
          .then(cachedResponse => {
            if (cachedResponse) {
              return cachedResponse;
            }
            return fetch(event.request).then(
              networkResponse => {
                if (networkResponse && networkResponse.status === 200) {
                  const urlString = event.request.url;
                  const isCachable = urlsToCache.some(cacheUrl => {
                      if (cacheUrl.startsWith('http')) { 
                          return urlString === cacheUrl;
                      }
                      const requestPath = new URL(urlString).pathname; 
                      let localCachePath = cacheUrl;
                      if (localCachePath === './') localCachePath = 'index.html'; 
                      const normalizedRequestPath = requestPath.startsWith('/') ? requestPath : '/' + requestPath;
                      const normalizedCachePath = localCachePath.startsWith('/') ? localCachePath : '/' + localCachePath;
                      return normalizedRequestPath.endsWith(normalizedCachePath) || normalizedRequestPath === normalizedCachePath;
                  });

                  if (isCachable) {
                    const responseToCache = networkResponse.clone();
                    caches.open(CACHE_NAME)
                        .then(cache => {
                            cache.put(event.request, responseToCache);
                        });
                  }
                }
                return networkResponse;
              }
            ).catch(error => {
              console.error('[ServiceWorker] Fetch failed for non-navigation request:', event.request.url, error);
            });
          })
      );
    });
    ```
    -->
</body>
</html>
